# Заготовка

```{r}
#| echo: false

# Нумерация заданий
ch <- 9 # Номер главы
t <- 1 # Номер первого задания (task)

task_fun <- function(ch, t){
  # Функция для добавление номера к заданию
  t <<- t+1
  paste(ch, t, sep = ".")
}

# Пример заголовка задания
## Задание `r task_fun(ch, t)`
```


Неопубликованное продолжение 6 раздела.



## Данные Open Street Map (OSM)

Для дальнейшей работы необходимо создать новый проект под названием "часть 6 OSM" и папку проекта. Загрузите в программу файл **"osm.gpkg"**. Этот файл содержит несколько векторных слоев для территории Красноярского края, полученных из Open Street Map (OSM) (получить аналогичные данные из базы данных OSM возможно на сайте https://download.geofabrik.de). При загрузке файла **"osm.gpkg"** появится окно выбора слоев для добавления в проект. По умолчанию выбраны все слои, так же возможно выбрать некоторые слои из списка. В описании каждого слоя указывается тип геометрии и количество объектов (@fig-choice).

![Окно выбора слоев файла "osm.gpkg"](./pictures/6_11_Выбор слоев.png){#fig-choice}

::: {.callout-tip}
## Задание `r task_fun(ch, t)`
Загрузите в проект все слои из файла "osm_kras_krai.gpkg". Сохраните проект в папку проекта под названием "часть 6 OSM".
:::

В результате выполнения задания загружено 6 слоев: **"level_6"** - деление Красноярского края на районы (поле "local_name"); **"railways"** - железные дороги; **"roads"** - дороги; **"transport"** - остановочные пункты; **"water"** - площадные водные объекты (крупные реки, озера); **"waterways"** - линейные водные объекты (небольшие реки).

## Объединение по признаку

Для создания границы Красноярского края из слоя **"level_6"** применяется инструмент **"Вектор" > "Геообработка" > "Объединение по признаку..."**. В качестве исходного слоя указывается **"level_6"**, в пункте **"поле слияния"** отмечается поле - **"admin_level"**. В результате геометрии с одинаковым атрибутом "admin_level" будут объединены между собой. Поскольку все геометрии слоя имеют одинаковое значение, они все будут объединены, создав таким образом границу Красноярского края (@fig-border).

![Окно инструмента "Объединение по признаку"](./pictures/6_12_Граница КК.png){#fig-border}

::: {.callout-tip}
## Задание `r task_fun(ch, t)`
Создайте общую границу Красноярского края по примеру выше. Сохраните слой в файл "osm.gpkg" под названием "border" (@fig-diss_by_field).
:::

!["Объединение по признаку", поле "admin_level"](./videos/6_2_объединение по признаку.mp4){#fig-diss_by_field}







