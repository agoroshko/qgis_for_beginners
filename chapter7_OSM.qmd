
# Open Street Map (OSM)

[Open Street Map (OSM)](https://www.openstreetmap.org/#map=9/55.983/92.873) это некоммерческий проект по созданию подробной, свободной и бесплатной географической карты мира. Наполнение карты осуществляется участниками проекта OSM на добровольных началах (по принципу Википедии). Данные OSM распространяются свободно под открытой лицензией Open Database License. OSM является одним из самых крупных источников информации для создания ГИС.

::: {.callout-note}
## Загрузите файлы!
Для выполнения последующих заданий загрузите файлы по [ссылке 1]() или [ссылке 2]() и создайте новый проект:

- Создайте новую папку проекта под названием "Раздел 6 OSM" а так же новый проект в QGIS.
:::

Файл **"osm.gpkg"** является файлом GeoPackage и содержит несколько векторных слоев для территории Красноярского края, полученных из Open Street Map (получить аналогичные данные из базы данных OSM возможно на сайте https://download.geofabrik.de). При загрузке файла **"osm.gpkg"** появится окно выбора слоев для добавления в проект. По умолчанию выбраны все слои, так же возможно выбрать некоторые слои из списка. В описании каждого слоя указывается тип геометрии и количество объектов (@fig-choice).

![Окно выбора слоев файла "osm.gpkg"](./pictures/6_11_Выбор слоев.png){#fig-choice}

::: {#task-task .callout-tip}
## Задание
Загрузите в проект все слои из файла "osm.gpkg". Сохраните проект в папку проекта под названием "Раздел 6 OSM".
:::

В результате выполнения задания загружено 6 слоев: 

- **"level_6"** - деление Красноярского края на районы (название района - поле "local_name"); 
- **"railways"** - железные дороги; 
- **"roads"** - дороги; 
- **"transport"** - остановочные пункты; 
- **"water"** - площадные водные объекты (крупные реки, озера); 
- **"waterways"** - линейные водные объекты (небольшие реки).

## Создание границы Красноярского края

Для создания границы Красноярского края из слоя **"level_6"** применяется инструмент **"Вектор" > "Геообработка" > "Объединение по признаку..."**. В качестве исходного слоя указывается **"level_6"**, в пункте **"поле слияния"** отмечается поле - **"admin_level"**. В результате геометрии с одинаковым атрибутом "admin_level" будут объединены между собой. Поскольку все геометрии слоя имеют одинаковое значение, они будут объединены, создав таким образом границу Красноярского края (@fig-border).

![Результат применения инструмента "Объединение по признаку"](./pictures/6_12_Граница КК.png){#fig-border}

::: {#task-task .callout-tip}
## Задание
Создайте границу Красноярского края по примеру выше. Сохраните слой в файл "osm.gpkg" под названием "border" (@vid-addfile).

!["Объединение по признаку", поле "admin_level"](./videos/6_2_объединение по признаку.mp4){#vid-addfile}
:::

## Подготовка данных

Векторные слои выходят за территорию Красноярского края, поэтому для начала обрежем слои так, что бы они содержали объекты только внутри полигона "border". Для этого поочередно примените инструмент "Обрезать" к каждому из слоев (см. @task-task_cut).

::: {#task-task .callout-tip}
## Задание
Используйте инструмент "Обрезать" для извлечения из всех слоев объектов на территории Красноярского края. Сохраните новые слои в файл "osm_kkrai.gpkg".
:::


## Кейс 1 Рассчет протяженности автомобильных дорог по муниципальным районам



## Кейс 2 Определить все ЖД мосты (пересечения ЖД с реками)


## Кейс 3 Определить процент площади муниц. района, покрытый водной поверхностью.


