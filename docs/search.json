[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Основы геоинформационных систем в QGIS",
    "section": "",
    "text": "Введение\nВ настоящее время QGIS является наиболее популярной программой с открытым исходным кодом для работы с геоинформационными системами. Она бесплатна для коммерческого и некоммерческого использования а по функционалу и стабильности стоит в одном ряду с платными продуктами. Недостатком этого программного продукта является малое количество обучающих курсов на русском языке, что в определенной степени компенсируется обширным сообществом, в том числе и в России. Настоящее пособие поможет студентам и всем желающим войти в мир географических информационных систем путем выполнения практических заданий в программе QGIS. Выполняемые задания относятся к области лесного хозяйства, однако получаемые навыки подходят для многих областей использования ГИС и являются универсальными.\nДля примеров используется программный продукт QGIS версии 3.28 LTR как наиболее стабильный и актуальный на данный момент. Его можно загрузить с официального сайта https://qgis.org/ru/site/ Настоящее руководство можно использовать для выполнения заданий и в других версиях программы QGIS.\nКнига создана при помощи Quarto, языка R и RStudio.\nПервая дата публикации: 03.10.2023\n\nОсновы геоинформационных систем в QGIS by Горошко А.А., Воробъева И.А., Немич В.Н. is licensed under CC BY-NC-ND 4.0"
  },
  {
    "objectID": "chapter0_resources.html#книги-сайты-на-русском-языке",
    "href": "chapter0_resources.html#книги-сайты-на-русском-языке",
    "title": "Дополнительные ресурсы",
    "section": "Книги / сайты на русском языке",
    "text": "Книги / сайты на русском языке\n\nОсновы геоинформатики: практикум в QGIS\nКоросов А. В., Зорина А. А. Экологические приложения Quantum GIS: учебное пособие для студентов биологических специальностей. – Петрозаводск: Издательство ПетрГУ, 2016. ― 211 с.\nGIS-Lab"
  },
  {
    "objectID": "chapter0_resources.html#youtube",
    "href": "chapter0_resources.html#youtube",
    "title": "Дополнительные ресурсы",
    "section": "YouTube",
    "text": "YouTube\n\nKartenX\nУРОКИ QGIS\nАлександр Фадеев - Территория ГИС"
  },
  {
    "objectID": "chapter0_resources.html#telegram",
    "href": "chapter0_resources.html#telegram",
    "title": "Дополнительные ресурсы",
    "section": "Telegram",
    "text": "Telegram\n\nQGIS взаимопомощь\nспбгеотех\ngislab"
  },
  {
    "objectID": "chapter1_georeferencing.html#загрузка-векторного-слоя",
    "href": "chapter1_georeferencing.html#загрузка-векторного-слоя",
    "title": "1  Привязка растра",
    "section": "1.1 Загрузка векторного слоя",
    "text": "1.1 Загрузка векторного слоя\nПланы лесонасаждений не имеют координатной сетки. При таких условиях привязку возможно осуществить по космическим снимкам, например с помощью плагина “QuickMapServices”, или по твердо опознаваемым точкам с уже известными координатами (например квартальных столбов). В нашем случае, растровое изображение будет привязываться к существующему векторному слою квартальной сети Караульного участкового лесничества. Для этого перейдите в меню “Слой” &gt; “Добавить слой” &gt; “Добавить векторный слой…” (Рисунок 1.3).\n\n\n\nРисунок 1.3: Рисунок 3 - Добавление векторного слоя\n\n\nПоявится диалоговое окно в котором нажмите на … в пункте “Векторный набор данных”. Укажите расположение файла “Квартальная сеть Караульное.shp” после чего выберите “Открыть”.\n\n\n\n\n\n\nОбратите внимание!\n\n\n\nПапка содержит несколько файлов с одинаковым названием но разными расширениями: “Квартальная сеть Караульное.dbf”, “Квартальная сеть Караульное.prj”, “Квартальная сеть Караульное.shx” и др. Такой тип файлов называется шейп-файлом (Shapefile). Хотя физически на диске это несколько файлов, при загрузке в ГИС они будут представлены как один векторный слой. Выбирать для загрузки необходимо только один файл с расширением “.shp”! Подробнее о шейп-файлах можно прочитать по ссылке https://ru.wikipedia.org/wiki/Shapefile.\n\n\nВ результате будет загружен векторный слой границ кварталов Караульного участкового лесничества. Для удобства добавим номера кварталов на карту. Функция добавления подписей будет рассмотрена более подробно в последующих разделах. Сейчас нажимаем правой кнопкой мыши на слой “квартальная сеть Караульное” в панеле слоев. Выберите пункт Свойства… &gt; Надписи. В верхней части окна меняем выпадающую вкладку с “Без подписей” на “Обычные подписи”. В пункте “Значение” выбираем поле “kvartal” (в этом поле содержатся номера кварталов). После этого нужно сохранить изменения (Применить) и нажать ОК (Рисунок 1.4).\n\n\n\nРисунок 1.4: Добавление подписей к векторному слою\n\n\n\n\n\n\n\n\nЗадание 1.1\n\n\n\nЗагрузите векторный слой “квартальная сеть Караульное.shp” и добавьте номера лесных кварталов по примеру выше."
  },
  {
    "objectID": "chapter1_georeferencing.html#навигация-по-карте",
    "href": "chapter1_georeferencing.html#навигация-по-карте",
    "title": "1  Привязка растра",
    "section": "1.2 Навигация по карте",
    "text": "1.2 Навигация по карте\nДля перемещения по карте используется инструмент Прокрутка карты  (так же этот инстумент активируется нажатием колесика мыши). Масштаб карты изменяется прокруткой колесика мышки. Более плавное изменение масштаба возможно при нажатой кавише Ctrl и прокрутке колескика мышки. Слева находится панель слоев, в которой отображаются все задействованные в проекте слои. Контекстное меню панели слоев (Рисунок 1.5) вызывается левым щелчком мыши и позволяет провети настройку отдельного слоя. Это меню часто используется, рассмотрим его основные элементы:\n\n\n\nРисунок 1.5: Добавление подписей к векторному слою\n\n\n\n“Увеличить до слоя” - инструмент позволяет переместить слой в центр окна программы. Чаще всего применяется для быстрой навигации или если вы “потерялись” на карте и видите только белый экран.\n“Показывать количество объектов” - когда активирован, добавляет счетчик количества объектов напротив слоя в панеле слоев.\n“Показывать подписи” - позволяет быстро включить или отключить подписи объектов слоя. Стиль подписей настраивается в свойствах слоя.\n“Переименовать слой” позволяет изменить название слоя в панеле слоев.\n“Дублировать слой” создает дубликат слоя. При этом изменения в слое-оригинале будут отображаться в слое-копии и наоборот т.к. файл-источник для слоев остается общим. Однако для копии и оригинала возможно настроить отличающиеся стили отображения.\n“Удалить слой” удаляет слой из панели слоев, при этом файл-источник не удаляется.\n“Переместить в конец”, “Переместить в начало” перемещает слой в конец или начало списка в панеле слоев. Порядок в списке влияет на порядок отображения слоев.\n“Открыть таблицу атрибутов” - открывает таблицу атрибутов слоя.\n“Режим редактирования” переводит слой в режим редактирования.\n“Фильтр” настраивает фильтрацию объектов по значениям таблицы атрибутов.\n“Видимость в приделах масштаба…” слой отображается только при заданном диапазоне масштабов.\n“Экспорт” позволяет сохранить слой в файл. Возможны разные форматы сохранения: .shp, .gpkg, .gpx, .xlsx и др.\n“Стили” дает доступ к быстрому изменению стиля отображения объектов а так же к возможности копировать настройки стиля одного слоя и применить их к другому слою.\n“Свойства…” наиболее часто используемый пункт. Позволяет настроить слой, включая стиль отображения, надписи, систему координат и др.\n\n\n\n\n\n\n\nЗадание 1.2\n\n\n\nИзмените положение карты и масштаб. Изучите контекстное меню панели слоев на примере загруженного ранее слоя “Квартальная сеть Караульное”."
  },
  {
    "objectID": "chapter1_georeferencing.html#добавление-контрольных-точек",
    "href": "chapter1_georeferencing.html#добавление-контрольных-точек",
    "title": "1  Привязка растра",
    "section": "1.3 Добавление контрольных точек",
    "text": "1.3 Добавление контрольных точек\nТеперь все приготовления завершены и можно приступать к самой привязки растра. Для начала необходимо выбрать изображение, которое будет привязываться. В папке планы лесонасаждений находится несколько сканированных изображений. Выберите одно из них, и сразу определите 1 квартал, привязку которого будете осуществлять. Выбранный квартал не должен быть обрезан по границе изображения. Для примера привязка осуществлялась для изображения “3.jpg” квартал 46. После этого в QGIS перейдите во вкладку Слой &gt; Привязка растров… (Рисунок 1.4).\n\n\n\nРисунок 1.6: Окно привязки растров\n\n\nОткроется окно “Привязка растров” которое состоит из двух областей разделенных горизонтальной чертой. В верхней области будет отображаться растровое изображение и контрольные точки, в нижней, которая называется “Контрольные точки”, появится таблица с характеристиками контрольных точек. Для загрузки растра выберите иконку “Открыть растр…”  после чего укажите растр для привязки. Растр привязывается путем расстановки контрольных точек с известными координатами. Для работы с контрольными точками применяют инструменты “Добавить точку”, “Удалить точку”, “Переместить точку” , которые выполняют соответствующие действия. Для добавления контрольных точек активируйте инструмент “Добавить точку”. Контрольные точки расставляются в местах квартальных столбов. Больше подробностей о привязке растровых изображений можно найти на форуме gis-lab.info.\nПоставив точку на карте, появится диалоговое окно, которое позволяет задать координаты точки вручную или использовать координаты этой точки с уже привязанной карты. Выберите пункт “С карты” , после чего откроется основное окно программы, где необходимо выбрать ту же точку на векторном слое, который мы загрузили ранее. Таким образом устанавливается соответствие между уже имеющим привязку векторным слоем лесных кварталов и растровым изображением без привязки. Контрольные точки расставляются по всем видимым на растровом изображении квартальным столбам. Чем таких точек больше, тем точнее получится привзяка (Рисунок 1.7).\n\n\n\nРисунок 1.7: Добавление контрольных точек\n\n\nПосле расставления всех контрольных точек необходимо задать параметры трансформации (иконка Параметры трансформации ). В открывшемся окне выбрать “Тип трансформации” &gt; “Линейный”» и нажать ОК (Рисунок 1.8). Теперь в нижней части окна привязки растров появилось числовое значение невязки для каждой точки, в верхней части эта невязка отображается в виде красных линий, соединенных с контрольными точками. Чем меньше значения невязки, тем точнее привязана карта. Невязки измеряются в пикселях изображения, значения меньше 5 единиц вполне допустимы для нашей работы. В случае больших значений, контрольные точки с максимальной невязкой можно удалить или переместить так, что бы уменьшить невязку. Так же невязка зависит от типа трансформации изображения, при изменении которого невязки будут пересчитаны и могут измениться как в большую, так и в меньшую сторону.\n\n\n\nРисунок 1.8: Настройка параметров трансформации\n\n\nВ программе доступно несколько типов трансформации изображения. Типы линейный и Гельмерта не искажают изображения. При выборке чекбокса “Только создать world-файл (линейная трансформация)” в результате привязки образуется новый файл с расширением .wld исходное изображение остается без изменений. В нашем случае, вероятно, лучшим образом подойдет проективный тип трансформации. Основная цель — уменьшить невязки насколько это возможно. Если выбран тип трансформиции — проективная, необходимо указать Output file. В результате привязки будет создана искаженная копия растра, директорию для сохранения которой нужно выбрать. Так же полезно будет поставить чекбокс “Использовать 0 для прозрачности при необходимости”» что позволяет сделать кромку искаженного изображения прозрачной, вместо черного цвета. При активированном чекбоксе “Сохранить контрольные точки” программа сохранит контрольные точки в отдельный файл с расширением .points который можно будет подгрузить в окне привязки растров. При повторной привязке растра контрольные точки не придется расставлять повторно. Активированный чекбокс Load in project when done загружает привязанное изображение в главное окно программы после завершения привязки. Когда мы добились допустимой невязки, начинаем привязку растра, нажав на иконку Начать привязку . После этого привязанный растр появится в основном окне программы. Окно с привязкой растра можно закрыть, сохранив контрольные точки.\n\n\n\n\n\n\nЗадание 1.3\n\n\n\nПривяжите одно изображение из папки “планы лесонасаждений” по квартальным столбам. В процессе выберите подходящий тип трансформации изображения (с минимальными невязками) и сохраните контрольные точки."
  },
  {
    "objectID": "chapter1_georeferencing.html#видимость-слоев",
    "href": "chapter1_georeferencing.html#видимость-слоев",
    "title": "1  Привязка растра",
    "section": "1.4 Видимость слоев",
    "text": "1.4 Видимость слоев\nПосле того, как в проекте появилось первое изображение, стоит остановиться на описании инструментов навигации по карте и некоторых других возможностях программы. Панель инструментов проекта позволяет создать проект, открыть проект, сохранить проект, создать макет и показать менеджер макетов . Проектом называется файл, который связывает набор слоев с заданными настройками стиля и отображения. Этот файл имеет расширение .qgs или .qgz. После сохранения проекта все настройки отображения слоев будут содержаться в нем. Однако, файл проекта не содержит сами слои, которые находятся каждый в отдельном файле. Этот файл только объединяет нужные слои в единую систему с заданными параметрами отображения. Если пути к файлам, входящим в проект, или их названия будут изменены, программа не сможет обнаружить эти слои и сообщит об этом в окне с предупреждением Рисунок 1.9.\n\n\n\nРисунок 1.9: Предупреждение о недостающих слоях\n\n\n\n\n\n\n\n\nОбратите внимание!\n\n\n\nВ дальнейшем создавайте для каждого нового проекта отдельную директорию (директория проекта) и сохраняйте в нее все файлы, относящиеся к этому проекту. Такой подход позволит не запутаться в большом количестве файлов а так же легко перенести весь проект на другой компьютер, если это потребуется. Помните, файл проекта содержит только пути к файлам!\n\n\nПорядок слоев в панеле слоев влияет на порядок отображения этих слоев в главном окне программы (Рисунок 1.10). Слои расположенные выше будут закрывать собой последующие слои. Обычно растровое изображение используют как “подложку” и располагают последним. Использование прозрачности при оформлении векторных слоев позволяет им не перекрывать друг друга и отображать больше информации на экране. На текущем этапе панель слоев содержит векторный слой с квартальной сетью Караульного участкового лесничества и привязанный растр (Рисунок 1.10).\n\n\n\nРисунок 1.10: Панель слоев\n\n\nДля визуальной оценки точности привязки, переместим растровый слой на второе место, заливку векторного слоя квартальной сети сделаем прозрачной а границы слоя более толстыми и яркими. Для этого перетащим растровый слой в панеле слоев на второе место, перейдем в свойства векторного слоя: “Свойства…” &gt; “Стиль”; выберем пункт “Простая заливка”; изменим “Цвет заливки” на “Прозрачная заливка”, “Цвет обводки” на более яркий цвет и увеличим толщину обводки до 0,66 (Рисунок 1.11).\n\n\n\nРисунок 1.11: Изменение порядка слоев\n\n\nПосле настройки стиля одновременно видны границы векторного слоя и расположенный за ним растровый слой.\n\n\n\n\n\n\nЗадание 1.4\n\n\n\nПроведите визуальную оценку точности привязки растрового изображения по примеру выше. Совпадают ли границы кварталов векторного и растрового слоя?"
  },
  {
    "objectID": "chapter1_georeferencing.html#модуль-quickmapservices",
    "href": "chapter1_georeferencing.html#модуль-quickmapservices",
    "title": "1  Привязка растра",
    "section": "1.5 Модуль QuickMapServices",
    "text": "1.5 Модуль QuickMapServices\nПрограмма QGIS позволяет расширить набор функций за счет устанавливаемых модулей. Одним из таких модулей является “QuickMapServices” который дает возможность подгрузить источники картографической информации (Google maps, Яндекс карты, OpenStreetMap и др.) напрямую в проект в виде отдельного слоя (подложки). Для установки этого модуля перейдите в панель “Модули” &gt; “Управление модулями…”. В открывшемся окне, во вкладке “Все” в строке поиска введите название модуля “QuickMapServices”, выберите модуль и установите его (“Установить модуль”). После установки новый пункт появится в панеле “Интернет” &gt; “QuickMapServices”. При выборе одной из карт, она появится в панеле слоев в виде растрового слоя, в окно карты подгрузится изображение соответствующей карты (Рисунок 1.12).\n\n\n\nРисунок 1.12: Изменение порядка слоев\n\n\n\n\n\n\n\n\nОбратите внимание!\n\n\n\nНекоторые карты могуть работать не корректно.\n\n\nОбновить перечень доступных карт можно перейдя в настройки модуля (“Интернет” &gt; “QuickMapServices” &gt; “Настройки”) и во вкладке “Загрузить сервисы” выберите пункт “Получить дополнительные источники данных”. “QuickMapServices” лишь один из доступных модулей, расширяющих функции QGIS. Аналогичным способом возможно установить и другие модули.\n\n\n\n\n\n\nЗадание 1.5\n\n\n\nДобавьте карту “Google Satellite” из модуля QuickMapServices в панель слоев."
  },
  {
    "objectID": "chapter2_vectorization.html",
    "href": "chapter2_vectorization.html",
    "title": "2  Векторизация",
    "section": "",
    "text": "3\nПо умолчанию вновь созданные слои имеют тонкие линии и случайный цвет. Эти настройки можно изменить в контекстном меню слоя (правый «клик» в панеле слоев), пункт “Свойства” &gt; “Стиль”. В этом окне можно изменить цвет и толщину линии. Так же существует масса других настроек, они будут рассмотрены в последующих разделах. Измените цвет и увеличьте толщину линий до 0,86 (Рисунок 4.1).\nДля сохранения прогресса векторизации рекомендуется периодически использовать инструмент “Сохранить правки слоя” , который записывает все изменения в файл. Таким образом прогресс не будет потерян, но после сохранения отменить изменения будет невозможно. &gt;&gt;&gt;&gt;&gt;&gt;&gt; 1c7ad20 (WIP)\n&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD ## Ошибки геометрий ======= ::: {.callout-tip} ## Задание Оцифруйте одну дорогу в границах одного кваратала. Измените цвет (выберите любой) и толщину линий слоя, как показано выше. ::: &gt;&gt;&gt;&gt;&gt;&gt;&gt; 1c7ad20 (WIP)"
  },
  {
    "objectID": "chapter2_vectorization.html#создание-векторного-слоя",
    "href": "chapter2_vectorization.html#создание-векторного-слоя",
    "title": "2  Векторизация",
    "section": "2.1 Создание векторного слоя",
    "text": "2.1 Создание векторного слоя\nМы начнем оцифровку с линейных объектов. В перечень их входят дороги и ручьи. Для начала создадим дополнительный векторный слой, на котором будем отмечать ручьи, для этого переходим во вкладку “Слой” &gt; “Создать слой” &gt; “Создать слой Shapefile…”. В поле имя файла следует нажать на иконку …, после чего выбрать папку для сохранения файла, ввести название (например “Дороги”, в зависимости от содержащихся в слое объектов).\n\n\n\n\n\n\nОбратите внимание!\n\n\n\nПри создании нового векторного слоя всегда явно указывайте путь его сохранения. Для этого в поле “Имя файла” нажмите …, выберите папку для сохранения и затем введите название файла. Сохраните файл в папку проекта!\n\n\nВ поле “Тип геометрии” необходимо выбрать какой тип геометрии будет содержать создаваемый слой. Один слой может содержать объекты только одного типа: точечная, линия или полигон (площадная). Задайте тип геометрии “Линия”, в области «Новое поле» введите “Имя” - “name”, «Тип» – “Текст”, размер можно оставить без изменений (80 символов). После этого нажимаем на иконку “Добавить в список полей”, поле с заданными параметрами появится в области “Список полей”. Теперь слой содержит два поля: id - создается по умолчанию и добавленное поле name в которое будут записываться названия объектов. Для удаления полей предусмотрена иконка “Удалить поле” (Рисунок 2.1). После задания всех параметов нажмите ОК, новый слой будет сохранен на диск и появится в панеле “Слои”.\n\n\n\nРисунок 2.1: Создание векторного слоя\n\n\nСписок полей отражает атрибуты (характеристики), которые возможно заполнить при создании объекта. Создавая очередной векторный слой, полезно задать минимальное необходимое количество полей, характеризующий каждый отдельный объект. Дополнительные поля можно добавить в любой момент после создания векторного слоя в контекстном меню “Открыть таблицу атрибутов”. Несмотря на то, что добавить или удалить поля атрибутивных данных можно после создания слоя, тип отдельного поля и его настройки (имя, длина, точность) изменить невозможно. Поэтому к настройкам полей нужно подходить внимательно. Тип поля может быть текстовым, целочисленным, десятичным числом или датой. “Размер” поля определяет количество символов, которое может храниться в этом поле, “Точность” - количество знаков после запятой (Рисунок 2.1).\n\n\n\n\n\n\nЗадание 2.1\n\n\n\nСоздайте новый слой “Дороги.shp”, как показано выше. Сохраните его в папку с проектом.\n\n\nЗавершив настройку нового слоя, нажимаем «ОК». Новый слой автоматически появится в «Панели слоев» основного окна QGIS. Отображение слоев на карте зависит от их порядка в панели слоев, поэтому векторные слои должны быть всегда выше чем растровые. Отключить видимость слоя можно сняв chekbox (флажок) слева от него (Рисунок 2.2).\n\n\n\nРисунок 2.2: Переключение видимости слоев\n\n\n\n\n\n\n\n\nОбратите внимание!\n\n\n\nЕсли Вы не можете найти ту или иную панель в главном окне программы, возможно она не активирована. Для отображения панели перейдите во вкладку “Настройки”, в пунктах “Панели” или “Панели инструментов” поставьте chekbox (флажок) напротив нужной панели и она появится в главном окне программы."
  },
  {
    "objectID": "chapter2_vectorization.html#векторизация-линейных-объектов",
    "href": "chapter2_vectorization.html#векторизация-линейных-объектов",
    "title": "2  Векторизация",
    "section": "2.2 Векторизация линейных объектов",
    "text": "2.2 Векторизация линейных объектов\nДля векторизации используют панель “Инструменты оцифровки” \nВыбор слоя для добавления или изменения геометрий произволится в Панеле слоев. Выделяем созданный векторный слой (Дороги), в “Инструментах оцифровки” нажимаем на иконку “Режим редактирования” . После активации режима редактирования “Инструменты оцифровки” становятся активны и появляется возможность добавлять или изменять объекты слоя. “Режим редактирования” выполняет роль предохранителя. Пока он не активирован, слой находится в режиме просмотра и не может быть изменен. Таким образом данные защищены от нежелательных случайных изменений.\nПанель “Инструменты оцифровки” состоит из следующих инструментов: “Сохранить правки слоя” - при нажатии сохраняются изменения в объектах слоя; “Добавить объект” - позволяет добавить объект (точка, линия или полигон в зависимости от типа геометрии слоя); “Инструмент правки вершин” - позволяет передвигать или удалять отдельные вершины геометрий; “Удалить выделенное”; “Отменить” и другие.\nНаходим на плане дорогу и применяя инструмент “Добавить объект” добавляем линию, отмечая точки вдоль изображения дороги на растровом слое. Во время добавления объекта масштаб карты можно менять прокруткой колеса мышки, перемещаться по плану — удерживая клавишу пробел. Добавление объекта завершается нажатием правой кнопки мыши, после чего появится окно ввода атрибутивной информации этого объекта. Если у дороги на плане есть название, его следует ввести в поле “name”. В противном случае поля можно не заполнять и просто нажать ОК. Первый объект в виде дороги будет добавлен (Рисунок 2.3).\n\n\n\nРисунок 2.3: Оцифровка линий\n\n\nПо умолчанию вновь созданные слои имеют тонкие линии и случайный цвет. Эти настройки можно изменить в контекстном меню слоя (правый «клик» в панеле слоев), пункт “Свойства” &gt; “Стиль”. В этом окне можно изменить цвет и толщину линии. Так же существует масса других настроек, они будут рассмотрены в последующих разделах. Измените цвет и увеличьте толщину линий до 0,86 (Рисунок 2.4).\n\n\n\nРисунок 2.4: Настройка стиля линий\n\n\nДля сохранения прогресса векторизации рекомендуется периодически использовать инструмент “Сохранить правки слоя” , который записывает все изменения в файл. Таким образом прогресс не будет потерян, но после сохранения отменить изменения будет невозможно.\n\n\n\n\n\n\nОбратите внимание!\n\n\n\nИспользуйте инструмент “Сохранить правки слоя” с осторожностью, охраненные изменения невозможно будет отменить!\n\n\n\n\n\n\n\n\nЗадание 2.2\n\n\n\nОцифруйте одну дорогу в границах одного кваратала. Измените цвет (выберите любой) и толщину линий слоя, как показано выше."
  },
  {
    "objectID": "chapter2_vectorization.html#топология-объектов",
    "href": "chapter2_vectorization.html#топология-объектов",
    "title": "2  Векторизация",
    "section": "2.3 Топология объектов",
    "text": "2.3 Топология объектов\nПри оцифровке важно соблюдать топологию объектов. Например, в месте соединения двух дорог они должны иметь общую точку, а между границами выделов не должно быть пустот или наложений. Для соблюдения топологии оцифровки объектов применяется панель “Инструменты прилипания”. \nИнструмент “Разрешить прилипание” активирует возможности топологического редактирования, после чего остальные инструменты на панеле становятся активны. Возможна настройка прилипания к объектам на всех слоях или только на текущем слое, к вершинам, сегментам или другим элементам геометрий, порог прилипания позволяет задать радиус прилипания и единицы измерения этого радиуса. Инструмент “Вычитать наложения на текущем слое” позволяет избежать наложения полигонов друг на друга, функция “Включить трассировку” дает возможность добавлять новые геометрии по границам уже существующих геометрий. Настроим “Инструменты прилипания” следующим образом. Прилипание К текущему слою, прилипание к вершинам и к линиям, порог прилипания 25 пикселей. Теперь при добавлении нового объекта и приближении указателя на расстояние менее 25 пикселей к уже существующей линии, курсор «приклеится» к ней. Такие настройки позволяют избежать разрывов в линиях. Используя полученные навыки, можно векторизировать оставшиеся дороги топологически корректно. Таким же образом создается отдельный векторный слой для векторизации рек или иных линейных объектов, которые существуют на карте (Рисунок 2.5).\n\n\n\nРисунок 2.5: Топологическое редактирование\n\n\n\n\n\n\n\n\nЗадание 2.3\n\n\n\nОцифруйте оставшиеся дороги в границах квартала используя прилипание к уже существующим дорогам. Аналогично оцифруйте реки в приделах квартала (создайте новый векторный слой под названием “Реки.shp”, добавьте поле name, заполните его названием реки)."
  },
  {
    "objectID": "chapter2_vectorization.html#топология-объектов-1",
    "href": "chapter2_vectorization.html#топология-объектов-1",
    "title": "2  Векторизация",
    "section": "4.1 Топология объектов",
    "text": "4.1 Топология объектов\nПри оцифровке важно соблюдать топологию объектов. Например, в месте соединения двух дорог они должны иметь общую точку, а между границами выделов не должно быть пустот или наложений. Для соблюдения топологии оцифровки объектов применяется панель “Инструменты прилипания”. \nИнструмент “Разрешить прилипание” активирует возможности топологического редактирования, после чего остальные инструменты на панеле становятся активны. Возможна настройка прилипания к объектам на всех слоях или только на текущем слое, к вершинам, сегментам или другим элементам геометрий, порог прилипания позволяет задать радиус прилипания и единицы измерения этого радиуса. Инструмент “Вычитать наложения на текущем слое” позволяет избежать наложения полигонов друг на друга, функция “Включить трассировку” дает возможность добавлять новые геометрии по границам уже существующих геометрий. Настроим “Инструменты прилипания” следующим образом. Прилипание К текущему слою, прилипание к вершинам и к линиям, порог прилипания 25 пикселей. Теперь при добавлении нового объекта и приближении указателя на расстояние менее 25 пикселей к уже существующей линии, курсор «приклеится» к ней. Такие настройки позволяют избежать разрывов в линиях. Используя полученные навыки, можно векторизировать оставшиеся дороги топологически корректно. Таким же образом создается отдельный векторный слой для векторизации рек или иных линейных объектов, которые существуют на карте (Рисунок 4.2).\n\n\n\nРисунок 4.2: Топологическое редактирование\n\n\n\n\n\n\n\n\nЗадание\n\n\n\nОцифруйте оставшиеся дороги в границах квартала используя прилипание к уже существующим дорогам. Аналогично оцифруйте реки в приделах квартала (создайте новый векторный слой под названием “Реки.shp”, добавьте поле name, заполните его названием реки)."
  },
  {
    "objectID": "chapter2_vectorization.html#векторизация-полигонов-1",
    "href": "chapter2_vectorization.html#векторизация-полигонов-1",
    "title": "2  Векторизация",
    "section": "4.2 Векторизация полигонов",
    "text": "4.2 Векторизация полигонов\nПосле векторизации линейных объектов, подобным образом векторизуют площадные объекты (лесные выдела). Для этого создается отдельный векторный слой с названием “выдела”, тип геометрии - Площадная (полигон). В атрибутивной информации добавьте одно поле с номерами выделов: “имя” — “videl”, тип — целое число, размер — 2. Сохраните слой в папку проекта. В панеле “Инструменты прилипания” находятся инструменты для топологически корректной оцифровки.\nИнструмент “Включить трассировку” позволяет проводить границу вдоль уже существующих геометрий. Если требуется создать общую границу - настройку Offset следуют оставить по умолчанию (0,000000) в противном случае новая линия будет проведена на указанном в настройке расстоянии от уже существущей геометрии. Этот инструмент не всегда работает предсказуемо, поэтому при его использовании следует внимательно следить за результатом (Рисунок 4.3).\n\n\n\nРисунок 4.3: Трассировка\n\n\nФункция “Вычитать наложения на текущем слое” позволяет оцифровывать полигоны без пересечений. При добавлении нового полигона поверх существующего он будет обрезан по границе второго. Такая настройка позволяет проводить оцифровку сплошных площадей, состоящих их множества участков, без наложений и разрывов (Рисунок 4.4).\n\n\n\n\n\n\nОбратите внимание!\n\n\n\nФункция “Вычитать наложения на текущем слое” не работает с геометриями содержащими ошибки. См. Глава 4.4.\n\n\n\n\n\nРисунок 4.4: Вычитание наложений полигонов\n\n\nПосле создания геометрии можно воспользоваться инструментом “Редактирование вершин” позволяющим изменять положение вершин и сегментов, добавлять и удалять вершины (Рисунок 4.5).\n\n\n\nРисунок 4.5: Редактирование вершин\n\n\nИнструмент “Включить топологическое редактирование” дает возможность перемещать вершины смежных полигонов топологически корректно, как одну общую вершину (Рисунок 4.6).\n\n\n\nРисунок 4.6: Топологическое редактирование вершин\n\n\nВ процессе оцифровки периодически случаются ошибки при расстановке вершин геометрии. Если геометрия еще не создана, последнюю установленную вершину можно удалить нажатием клавиши Backspace на клавиатуре (Рисунок 4.7).\n\n\n\nРисунок 4.7: Удаление вершин при оцифровке\n\n\n\n\n\n\n\n\nЗадание\n\n\n\nТопологически корректно оцифруйте выдела на территории квартала. При оцифровке не забывайте сразу проставлять номера выделов во всплывающем окне (поле “videl”)."
  },
  {
    "objectID": "chapter2_vectorization.html#sec-pickobj",
    "href": "chapter2_vectorization.html#sec-pickobj",
    "title": "2  Векторизация",
    "section": "2.5 Панель выбора объектов",
    "text": "2.5 Панель выбора объектов\nДля выделения объектов используется Панель выбора объектов  Первый инструмент Выбрать объекты в прямоугольнике или точке позволяет выделить объект или группу объектов на карте. Для удаления выделенных объектов нажмите клавишу Delete или выберите инструмент Удалить выделенное в панеле Инструменты оцифровки. При этом слой должен находиться в режиме редактирования, в противном случае удаление будет невозможно. Отмена выделения выполняется инструментом Снять выделение…, так же отменить выделение можно нажав на пустую область без объектов. Выбор объектов можно производить как точечно, так и в некоторой области (полигоне). Точечный выбор нескольких объектов выполняется при нажатой клавише Control (Ctrl) (Рисунок 2.11).\n\n\n\nРисунок 2.11: Выбор объектов разными способами\n\n\nПанель выбора объектов так же содержит инструменты для выбора по атрибутам и положению объектов. Возможности такого выбора будут рассмотрены в будущих разделах."
  },
  {
    "objectID": "chapter2_vectorization.html#sec-invalidgeom",
    "href": "chapter2_vectorization.html#sec-invalidgeom",
    "title": "2  Векторизация",
    "section": "2.6 Ошибки геометрий",
    "text": "2.6 Ошибки геометрий\nПри оцифровке объектов могут возникать ошибки геометрий. В QGIS, большинство инструментов работы с векторными слоями не будут работать со слоями содержащими ошибки геометрий. Для выявления таких ошибок существует инструмент Вектор &gt; Обработка геометрии &gt; Проверка геометрии… который создает три временных слоя с указаниями на объекты с корректными и некорректными геометриями. Исправить такие геометрии можно как вручную, так и при помощи инструмента “Исправить геометрии” в панеле “Инструменты анализа” . Иногда для исправления некоторых ошибок создают буфер нулевого радиуса вокруг объектов. Наиболее распространенные ошибки геометрий следующие:\n\nЗадвоение точек - геометрия содержит две точки с одинаковыми координатами;\nСамопересечение линий - линия пересекает саму себя;\n\n\n\n\nРисунок 2.12: Самопересечение линий\n\n\n\nСамопересечение полигонов - полигон пересекает сам себя;\n\n\n\n\nРисунок 2.13: Самопересечение линий\n\n\n\nВисячая линия в полигоне - полигон содержет в своем контуре линию.\n\n\n\n\nРисунок 2.14: Самопересечение линий\n\n\nОшибки геометрий подсвечиваются знаком “X” зеленого цвета. Нужно отметить, что некоторые инструменты прилипания (например “Вычитать наложения на текущем слое”) не работают с геометриями содержащими ошибки.\n\n\n\n\n\n\nЗадание 2.5\n\n\n\nПроверьте созданные слои (дороги, реки, выдела) на наличие ошибок геометрий. В случае обнаружения ошибок, устраните их."
  },
  {
    "objectID": "chapter2_vectorization.html#дополнительные-инструменты-оцифровки-в-разработке",
    "href": "chapter2_vectorization.html#дополнительные-инструменты-оцифровки-в-разработке",
    "title": "2  Векторизация",
    "section": "2.7 Дополнительные инструменты оцифровки (в разработке)",
    "text": "2.7 Дополнительные инструменты оцифровки (в разработке)"
  },
  {
    "objectID": "chapter3_attributes.html#создание-и-удаление-полей",
    "href": "chapter3_attributes.html#создание-и-удаление-полей",
    "title": "3  Добавление атрибутивной информации",
    "section": "3.1 Создание и удаление полей",
    "text": "3.1 Создание и удаление полей\nСоздание новых полей возможно как при создании нового слоя, так и в дальнейшем в таблице атрибутов. Для однозначной индентификации каждого выдела в приделах участкового лесничества необходим не только номер выдела (это поле было добавлено при создании слоя “выдела” и заполнено в процессе оцифровки) но и номер квартала. Для добавления нового поля переведите слой в Режим редактирования (первая иконка в таблице атрибутов) и выберите инструмент Новое поле. Введите имя поля: “kvartal”; тип: “Целое число”, размер: “2” (в таком случае поле сможет содержать только двухзначные числа, масимальный номер квартала может быть 99) (Рисунок 3.7).\n\n\n\nРисунок 3.3: Настройки нового поля\n\n\n\n\n\n\n\n\nОбратите внимание!\n\n\n\nИмена полей всегда вводятся на латинице без пробелов, для разделения слов можно использовать нижнее_подчеркивание. Использование других символов в имени поля может создать непредвиденные проблемы!\n\n\nПосле нажатия ОК в таблице атрибутов появится новое пустое поле kvartal.\nДля удаления полей используется инструмент Удалить поле (слой должен находиться в режиме редактирования). Воспользуемся этим инструментом что бы удалить поле id. В появившемся окне выберите удаляемое поле и нажмите ОК. Так же возможно выделить несколько полей сразу и удалить их.\n\n\n\n\n\n\nЗадание 3.2\n\n\n\nВ слоей “выдела” добавьте новое поле kvartal, как показано выше, и удалите поле id. Используйте инструмент Реорганизовать колонки что бы поменять порядок полей (kvartal затем videl). После чего сохраните изменения в слое. В результате таблица атрибутов слоя должна соответствовать рисунку ниже (Рисунок 3.4).\n\n\n\n\n\nРисунок 3.4: Таблица атрибутов слоя “выдела”\n\n\nПри добавлении нового поля важно обращать внимание не только на Имя поля, но и на Тип данных поля, который определяет какой тип информации будет содержать поле. Для .shp файлов доступны следующие типы полей: Целое число (integer 32 или 64 бита), размер поля определяет сколько символов может вмещать поле; Десятичное число (real), размер определяет общее число символов (включая дробную часть), точность - количество знаков после запятой; Текст (string) позволяет хранить надписи, количество символов так же определяется параметром Размер. При создании нового поля важно задать правильный тип поля и размер, изменить эти параметры в последствии будет не просто. Соответственно, если поле будет содержать порядковые номера объектов, следует выбрать тип Целое число (integer 32 или 64 бита), если в поле будет записана длина или площадь - Десятичное число (real) с необходимой настройкой размера и точности, в случае названий объектов следует использовать тип Текст (string) необходимого размера."
  },
  {
    "objectID": "chapter3_attributes.html#ввод-атрибутивной-информации",
    "href": "chapter3_attributes.html#ввод-атрибутивной-информации",
    "title": "3  Добавление атрибутивной информации",
    "section": "3.2 Ввод атрибутивной информации",
    "text": "3.2 Ввод атрибутивной информации\nСуществует несколько способов добавления атрибутивной информации.Так, возможно заполнить таблицу вручную, как в любом табличном редакторе, или прикрепить уже существующую таблицу по ключевому полю. Так же возможно рассчитать новые атрибуты из уже имеющихся или из свойств геометрий объектов (например длина, площадь и т.д.). Для ввода информации вручную достаточно открыть таблицу атрибутов слоя, перевести слой в режим редактирования и заполнить нужные колонки как это делается в любом табличном редакторе.\n\n\n\n\n\n\nЗадание 3.3\n\n\n\nЗаполните вручную поле “kvartal” у первых пяти выделов. Номер кваратала для остальных выделов будет заполнен другим способом.\n\n\nПоскольку все значения поля kvartal будут одинаковыми, есть способ заполнить все значения сразу, используя Редактор выражений панель ниструментов которого появляется при переводе слоя в режим редактирования.\n\n\n\nРисунок 3.5: Редактор выражений\n\n\nРедактор выражений имеет расширенный режим, для перехода в который необходимо нажать на иконку . Этот режим позволяет создавать сложные выражения, рассчитывать длины и площади объектов и многое другое. Мы более подробно познакомимся с этим режимом в последующих разделах. Для начала заполним поле kvartal. Для этого в редакторе выражений слева от равно выбирается поле, к которму будет применяться выражение, которое записывается справа от равно. Применить выражение можно ко всем объектам слоя (пункт Обновить все) или только к выделенным в данный момент (пункт Обновить выделенные). Слева укажем обновляемое поле (kvartal), справа - номер квартала, и выберем Обновить все. После того, как поле будет заполнено номером квартала сохраним изменения. Аналогичным способом возможно изменить атрибуты только у выделенных объектов (пункт Обновить выделенные), смотри Глава 2.5.\n\n\n\nРисунок 3.6: Заполнение поля “kvartal”\n\n\n\n\n\n\n\n\nЗадание 3.4\n\n\n\nЗаполните поле “kvartal” как показано выше."
  },
  {
    "objectID": "chapter3_attributes.html#объединение-таблиц-по-ключевому-полю",
    "href": "chapter3_attributes.html#объединение-таблиц-по-ключевому-полю",
    "title": "3  Добавление атрибутивной информации",
    "section": "3.3 Объединение таблиц по ключевому полю",
    "text": "3.3 Объединение таблиц по ключевому полю\n\n\n\n\n\n\nУведомление\n\n\n\nДля выполнения заданий из этого раздела загрузите файлы по ссылке\n\n\nВ случае когда существуют отдельно слой геометрий объектов и атрибутивные описания (в виде “плоской” таблицы), рационально провести операцию объединения таблиц так, что бы к каждому объекту была присоединена соответствующая атрибутивная характеристика. Основное условие для проведения такой операции - наличие в обеих таблицах уникального ключевого поля (key) которое бы однозначно характеризовало каждый объект в одной и другой таблице. Далее в этом разделе будут использоваться данные 21 квартала Караульного участкового лесничества (файл “выдела.shp”), которые представлены контурами 477 выделов с двумя атрибутами: номер кваратала (kvartal) и номер выдела (videl). Таксационная характеристика содержится в отдельной таблице “таксационные описания.xlsx”, которая имеет одинаковые поля с векторным слоем (kvartal и videl) а так же таксационную характеристику для каждого выдела.\n\n\n\n\n\n\nЗадание 3.5\n\n\n\nЗагрузите файлы “выдела.shp” и “таксационные описания.xlsx”. Создайте новый проект и загрузите туда слой выделов (Глава 2). Cоздайте новую папку проекта и сохраните в нее файл проекта.\n\n\n\n3.3.1 Импорт таблицы\nПрограмма QGIS позвояет загружать не только векторные и растровые данные (shp-файлы, GeoPackage, tif. и др.) но и таблицы которые могут быть созданы в любом табличном редакторе (Excal, Libreoffice Calc и др.). Один из способов загрузки таких таблиц - сохранение в формат .csv (Comma-Separated Values) и последующий экспорт в QGIS. CSV - формат для представления табличных данных в виде текста. Каждая строка в файле - строка в таблице, столбцы внутри строки отделяются друг от друга специальным символом - разделителем (delimiter). Несмотря на название формата, разделителем не обязательно должна быть запятая, более того, основное условие выбора символа-разделителя: он не должен встречаться в значениях таблицы. Если в таблице встерчаются дробные числа, где целая часть отделена запятой, нельзя использовать в качестве разделится запятую. Для того, что бы избежать непредвиденных проблем, часто в качестве разделителя используют символ табуляции (Tab). Выбрать разделитель можно при сохранении таблицы в формат .csv в любом табличном редакторе ?fig-savecsv. После сохранения .csv файла в QGIS выберите пункт меню Слой &gt; Добавить слой &gt; Добавить слой из текста с разделителями…, проведите соответствующие настройки и загрузите таблицу. Такой способ позволяет более детально настроить параметры импортируемой таблицы, типы данных столбцов и т.д.\nБолее простым способом является загрузка .xlsx файла напрямую в QGIS. Для этого перетяните файл .xlsx в окно программы, после чего таблица появится в панеле слоев. Если в файле несколько листов, появится панель с выбором загрузки. Изменения, произведенные в QGIS, будут сохранены в файл и наоборот.\n\n\n\nРисунок 3.7: Импотр файла .xlsx\n\n\n\n\n\n\n\n\nЗадание 3.6\n\n\n\nЗагрузите таблицу таксационных описаний в QGIS.\n\n\n\n\n3.3.2 Создание ключевого поля\nУникальный индентификатор любого выдела состоит из названия лесничества, названия участкового лесничества, номера квартала и, собственно номера выдела. Такой ключ будет уникален для любого выдела. В нашем случае используются выдела на территории одного участкового лесничества, поэтому первые две составляющие ключа (лесничество и участковое лесничество) можно пропустить. Таким образом, ключ для связи между таблицами будет состоять из двух составляющих, разделенных нижним_подчеркиванием: номер квартала_номер выдела (27_1). Такое поле с ключем (key) необходимо создать как в атрибутивной таблице векторного слоя, так и в таблице таксационных описаний.\nДля создания ключевого поля, перейдите в таблицу атрибутов слоя “выдела” и создайте новое поле (Имя: key, Тип: Текст, Размер: 5) Рисунок 3.8.\n\n\n\nРисунок 3.8: Создание ключевого поля\n\n\nВ панеле редактора выражений, слева от равно, выберите поле key и перейдите в расширенный режим редактора выражений . В появившемся окне в левой части записывается выражение, в средней части - список доступных функций, в правой части - справка по этим функциям. В левой части окна запишите выражение, которое объединяет поля квартал и выдел с разделителем в виде нижнего подчеркивания (например для квартала 38 выдела 25 ключ будет выглядеть так: 38_25) Рисунок 3.9. Во вкладке Поля и значения в центральной части редактора выражений, представлены все поля таблицы атрибутов. При двойном клике на поле, оно появится в панеле слева.\n\n\n\nРисунок 3.9: Заполнение ключевого поля\n\n\nРезультат выражения отображается в левом нижнем углу окна (Просмотр:). Если выражение составлено не корректно, вместо результата выражения будет отображаться надпись “Ошибочное выражение”. В этом случае следует найти и устранить ошибку. После написания выражения, нажмите ОК а затем Обновить все. Перед обновлением поля убедитесь что слева от равно указано поле key иначе есть риск перезаписать данные другого поля. В результате поле key должно быть заполнено сочетаниями квартал_выдел для каждого выдела Рисунок 3.10.\n\n\n\nРисунок 3.10: Обновление ключевого поля\n\n\nСохраните изменения в слое и создайте поле key в таблице с таксационными описаниями аналогичным образом.\n\n\n\n\n\n\nЗадание 3.7\n\n\n\nСоздайте и заполните поле key в слоях “выдела” и “таксационные описания”.\n\n\n\n\n3.3.3 Объединение таблиц\nПосле того как поле key создано в двух таблицах, его можно использовать для связи строк таблиц между собой. Для этого перейдите в Свойства… слоя “выдела” &gt; Связи &gt; Добавить новую связь . В пункте Присоединить слой выберите слой таблицы таксационных описаний, Связываемое поле - key, Целевое поле - key. После нажатия ОК - Применить в атрибутивной таблие слоя “выдела” появится присоединенная таксационная характеристика Рисунок 3.11. В настройках связи так же можно выбрать присоединяемые поля (столбцы таблицы, которые будут присоединены к векторному слою) или задать пользовательский префикс имени поля (общее название, которое будет добвалено перед именами присоединяемых столбцов).\n\n\n\nРисунок 3.11: Настройка связи таблиц\n\n\n\n\n\n\n\n\nЗадание 3.8\n\n\n\nПрисоедините к векторному слою “выдела” таблицу таксационных характеристик. В качестве префикса имени поля используйте “tax_”. Результат объединения представлен на рисунке ниже Рисунок 3.12.\n\n\n\n\n\nРисунок 3.12: Объединенная таблица атрибутов\n\n\nСлой с присоединенной атрибутивной информацией можно сохранить как новый векторный слой и использовать в дальнейшей работе. Для этого в панеле слоев перейдите в меню выбранного слоя &gt; Экспорт &gt; Сохранить объекты как…. В новом окне “Сохранить векторный слой как…” выберите формат Shape-файл ESRI. Для выбора папки сохранения файла в поле “Имя файла” нажмите … и укажите папку проекта. После чего нажмите ОК, новый слой появится в панеле слоев.\n\n\n\n\n\n\nЗадание 3.9\n\n\n\nСохраните в папку проекта векторный слой “выдела” с прикрепленной атрибутивной информацией в файл под названием “выдела2”."
  },
  {
    "objectID": "chapter4_thematic_maps.html#система-координат-проекта",
    "href": "chapter4_thematic_maps.html#система-координат-проекта",
    "title": "4  Cоздание тематических карт",
    "section": "4.1 Система координат проекта",
    "text": "4.1 Система координат проекта\nСистемы координат подразделяются на географические и спроецированные (местные системы координат не рассматриваются в этом пособии). Геогрифические системы рассматривают землю как объемную фигуру (эллипсоид), спроецированные делят поврехность зелмли на равные части (зоны) и рассматривают каждую зону как проекцию на плоскость. Как следствие, различаются единицы измерения координат. Положение точки в географической системе координат определеяется в угловой мере (градусы, минуты и секунды) по широте и долготе. В спроецированной системе координат положение точки определяется на плоскости (декардова система координат) и выражается в километрах по оси Х и У. Среди географических систем координат наиболее распространена WGS 84 (EPSG:4326), на основе которой построена спроецированная система координат UTM (EPSG:32xxx). Система координат UTM делит поверхность земли по экватору на 60 зон а так же на северное и южное полушарие. Например, система координат WGS 84 / UTM zone 46N (EPSG:32646) представляет 46 зону северного полушария (буква N в названии зоны указывает на полушарие). Для интернет-карт повсеместно распространено использование системы WGS 84 / Pseudo-Mercator (EPSG:3857) которая так же называется Web Mercator, которая была разработана компаний Google и является одновременно географической (для мелкого масштаба) и спроецированной (для крупного масштаба).\n\n\n\n\n\n\nОбратите внимание!\n\n\n\nСистему координат WGS 84 / Pseudo-Mercator (EPSG:3857) удобно сипользовать в качестве системы координат проекта, но не следует создавать слои в этой системе координат. Для этих целей используйте WGS 84 или UTM.\n\n\nВ программе QGIS реализовано перепроецирование “на лету” (on fly). Векторные слои могут иметь различные системы координат, но в основном окне программы они отображаются согласованно - в одной и той же системе координат проекта. Для изменения системы координат проекта выберите “Проект” &gt; “Свойства” &gt; “СК” или нажмите на символ в правом нижнем углу . После чего появится окно с настройками системы координат Рисунок 4.1.\n\n\n\nРисунок 4.1: Настройка системы координат проекта\n\n\nУ каждой системы координат существует уникальный номер EPSG, который удобно использовать для поиска. Изображение в правом нижнем углу окна показывает область применения системы координат на поверхности земли. Текущее положение основного окна карты отображено перекрестием а область применения - красной заливкой, что особенно удобно при выборе нужной зоны спроецированной системы координат. После выбора нужной системы координат проекта нажмите “Применить” &gt; “ОК”, изображение в главном окне программы изменится согласно выбранной системе координат.\n\n\n\n\n\n\nЗадание 4.2\n\n\n\n\nКакая зона UTM подходит вашему проекту? Выберите подходящую систему координат из следующих:\n\n\nWGS 84 / UTM zone 45N (EPSG:32645);\nWGS 84 / UTM zone 46N (EPSG:32646);\nWGS 84 / UTM zone 46S (EPSG:32746).\n\n\nЗадайте систему координат проекта WGS 84 / Pseudo-Mercator (EPSG:3857).\n\n\n\nКоординаты положения курсора отображаются посередине в нижней части главного окна программы, рядом с текущим масштабом. Формат отображаемых координат настраивается в меню “Проект” &gt; “Свойства…” &gt; “Общие” &gt; “Отображение координат…”. Географические координаты могут быть отображены в десятичных градусах, градусах и минутах или градусах, минутах и секундах (пункт “Coordinate format”). Так же настраиваются единицы измерения: метры или градусы (degrees) и точность координат.\n\n\n\n\n\n\nЗадание 4.3\n\n\n\nИзмените формат отображаемых координат в нижней части экрана. Формат отображения координат должен быть следующим:"
  },
  {
    "objectID": "chapter4_thematic_maps.html#простые-надписи",
    "href": "chapter4_thematic_maps.html#простые-надписи",
    "title": "4  Cоздание тематических карт",
    "section": "4.2 Простые надписи",
    "text": "4.2 Простые надписи\nНадписи из одного поля"
  },
  {
    "objectID": "chapter4_thematic_maps.html#составные-надписи",
    "href": "chapter4_thematic_maps.html#составные-надписи",
    "title": "4  Cоздание тематических карт",
    "section": "4.3 Составные надписи",
    "text": "4.3 Составные надписи\nНадписи, состоящие из нескольких полей"
  },
  {
    "objectID": "chapter4_thematic_maps.html#простая-символика",
    "href": "chapter4_thematic_maps.html#простая-символика",
    "title": "4  Cоздание тематических карт",
    "section": "4.5 Простая символика",
    "text": "4.5 Простая символика\nВ режиме “Простая символика” все объекты отображаются в одном стиле, который может быть простым (состоит из одного слоя) так и сложным (состоящим из двух и более слоев). По умолчанию единственным слоем является “Простая заливка”. Комбинируя несколько простых слоев возможно создать сложный стиль отображения.\n\n4.5.1 Простая заливка\n\n\n\nРисунок 4.6: Простая заливка\n\n\nТип слоя “Простая заливка” (Рисунок 4.6) позволяет настоить основных два цвета: “Цвет заливки” и “Цвет обводки”. Стиль заливки может быть сплошной, без заливки или разными видами штриховки. Для обводки объектов настраивается толщина и стиль (сплошная, без обводки и штриховка).\n\n\n\n\n\n\nЗадание 4.7\n\n\n\nИзмените “Цвет заливки” и “Цвет обводки” слоя “videla” по вашему усмотрению.\n\n\nКомбинируя несколько слоев создаются сложные заливки. Для этого добавьте еще один слой нажав на символ  в правом верхнем углу. Верхний слой будет перекрывать нижний, поэтому он должен быть полупрозрачным или залит штриховкой. После настройки изображение в квадрате слева изменится, в соответствии с новым стилем штриховки Рисунок 4.7.\n\n\n\nРисунок 4.7: Комбинирование двух слоев заливки\n\n\n\n\n\n\n\n\nЗадание 4.8\n\n\n\nОбъедините два слоя заливки по примеру выше. Настройки выберите самостоятельно.\n\n\nАналогичным образом применяются и комбинируются другие типы слоев.\n\n\n\n\n\n\nЗадание 4.9\n\n\n\nВыберите любой тип слоя кроме “Простая заливка”, настройте его по своему усмотрению и оцените результат."
  },
  {
    "objectID": "chapter4_thematic_maps.html#символизация-по-уникальным-значениям",
    "href": "chapter4_thematic_maps.html#символизация-по-уникальным-значениям",
    "title": "4  Cоздание тематических карт",
    "section": "4.6 Символизация по уникальным значениям",
    "text": "4.6 Символизация по уникальным значениям\nПризнаки (характеристики) объектов подразделяются на два больших класса: количественные и качественные. Количественные признаки это числовые измерения характеристик объекта (например средний возраст, средняя высота, средний диаметр древостоя), качественные - принадлежность к той или иной категории (преобладающая порода, тип леса, класс бонитета).\nДля отображения качественных признаков используется символизация по уникальным значениям, при этом каждому уникальному значению задается определенный стиль. Для примера раскрасим слой выделов по преобладающей породе (поле “el_lesa”). Перейдите в пункт “Свойства слоя” &gt; “Стиль” &gt; “Символизация по уникальным значениям”, в пункте “Значение” указывается поле для классификации (“el_lesa”). После нажатия “Классифицировать” каждому уникальному значению поля будет присвоен определенный стиль. По умолчанию для раскраски применяются случайные цвета (“Random colors”), определенный набор цветов задается в пункте “Градиент” (Рисунок 4.8).\n\n\nVideo\nРисунок 4.8: Символизация по уникальным значениям преобладающей породы\n\n\n\n\n\n\n\n\nЗадание 4.10\n\n\n\nВыберите слой “videla” и примените режим символизации по уникальным значениям для типа леса (поле “tip_lesa”)."
  },
  {
    "objectID": "chapter4_thematic_maps.html#символизация-по-диапазонам-значений",
    "href": "chapter4_thematic_maps.html#символизация-по-диапазонам-значений",
    "title": "4  Cоздание тематических карт",
    "section": "4.7 Символизация по диапазонам значений",
    "text": "4.7 Символизация по диапазонам значений\nДля количественных признаков применяется режим символизация по диапазонам значений. Диапазон значений признака разбивается на интервалы каждый из которых окрашивается согласно выбранному градиенту цвета. В пункте “Значение” выбирается поле с количественными значениями, в пункте “Градиент” задается градиент цвета который может быть выбран из предустановленного списка или создан вручную по двойному клику.\nКлючевым моментом является разбиение числовой переменной на классы (интервалы), которое определяется режимом (“Fixed Interval”, “Logarithmic Scale” и др.) с возможностью выбора количества классов. Увеличение количества классов приводит к более подробному отображению изменений переменной. Способ разбиения на классы часто определяется распределением переменной, которое изображено во вкладке “Диаграмма рассеяния”. После установки всех параметров и нажатия “Классифицировать”, интервалы и соответствующие им стили отображения появятся на экране в виде таблицы со столбцами “Знак”, “Значения” и “Легенда” (Рисунок 4.9).\n\n\n\nРисунок 4.9: Символизация по диапазонам значений площади выдела\n\n\nВ столбце “Знак” возможно отключить видимость отдельного интервала или изменить стиль. В столбце “Значения” отображааются границы интервала, которые возможно изменить вручную. Столбец “Легенда” отображает подписи в легенде, которые так же возможно изменить вручную.\n\n\n\n\n\n\nЗадание 4.11\n\n\n\nПримените режим символизации по диапазонам значений для среднего возраста (поле “A_let”) слоя “videla” как показано на рисунке ниже (Рисунок 4.10).\n\n\n\n\n\nРисунок 4.10: Пример символизации по диапазонам значений"
  },
  {
    "objectID": "chapter4_thematic_maps.html#cимволизация-на-основе-правил",
    "href": "chapter4_thematic_maps.html#cимволизация-на-основе-правил",
    "title": "4  Cоздание тематических карт",
    "section": "4.8 Cимволизация на основе правил",
    "text": "4.8 Cимволизация на основе правил"
  },
  {
    "objectID": "chapter4_thematic_maps.html#добавление-тем",
    "href": "chapter4_thematic_maps.html#добавление-тем",
    "title": "4  Cоздание тематических карт",
    "section": "4.9 Добавление тем",
    "text": "4.9 Добавление тем"
  },
  {
    "objectID": "chapter4_thematic_maps.html#создание-и-заполнение-макета",
    "href": "chapter4_thematic_maps.html#создание-и-заполнение-макета",
    "title": "4  Cоздание тематических карт",
    "section": "4.9 Создание и заполнение макета",
    "text": "4.9 Создание и заполнение макета\nПосле задания соответствующего стиля объектов переходят к созданию карты. Кроме самого изображения земной поверхности карты и планы могут содержать легенду, координатную сетку, указатель на север, масштаб или масштабную линейку. В главном окне программы задается требуемый стиль отображения карты после чего карта оформляется в пункте меню “Проект” &gt; “Создать макет…” вводится название макета и открывается новое окно с белым прямоугольником, который является листом будующей карты. Новые элементы добавляются в меню “Добавить элемент”, основные инструменты редактирования макета расположены в панеле слева. Добавленные элементы макета и их свойства отображаются в панеле справа “Элементы” и “Свойства элемента”.\nОсновным элементом макета является карта, которая добавляется в меню “Добавить элемент” &gt; “Добавить карту” после чего выделяется область на белом листе, куда карта будет добавлена.\n\n\n\n\n\n\nОбратите внимание!\n\n\n\nПечать карты производится только в границах белого листа. Элементы выходящие за эти границы не будут напечатаны.\n\n\nПосле добавления карты новый элемент с названием “Карта 1” появится в панеле “Элементы”. Панель “Свойства элемента” позволяет изменять настройки добавленной карты (масштаб, систему координат и т.д.). Область, занятая картой, изменяется при помощи инструмента “Выделить/переместить элемент”, предвигать карту внутри области возможно при помощи инструмента “Перемещение содержимого элемента” (Рисунок 4.13).\n\n\nVideo\nРисунок 4.13: Использование макета для создания карты\n\n\n\n\n\n\n\n\nЗадание 4.13\n\n\n\nСоздайте новый макет. Добавьте карту так, что бы она занимала приблизительно 80% площади листа.\n\n\nАналогичным образом добавляется масштабная линейка и другие элементы. Для этого перейдите в пункт “Добавить элемент” и выберите необходимый (так же добавить большинство элементов макета возможно при помощи панели слева).\n\n\n\n\n\n\nЗадание 4.14\n\n\n\nДобавьте в макет масштабную линейку, указатель “север-юг” и надпись “План лесонасаждений”.\n\n\nДля настройки свойств определенного элемента его необходимо выделить в панеле “Элементы” после чего свойства появятся в окне “Свойства элемента”. После оформления карты обычно сохраняют в виде изображения. Для этого перейдите в пункт “Макет” &gt; “Экспорт в изображение” и сохраните результат в папку проекта.\n\n\n\n\n\n\nЗадание 4.15\n\n\n\nДобавьте координатную сетку на карту (система координат EPSG:4326 - WGS84). В свойствах масштабной линейки измените единицы измерения на километры. У надписи “План лесонасаждений” увеличьте размер шрифта до 30. Сохраните карту в виде изображения. Пример итоговой карты приведен на рисунке ниже (Рисунок 4.14).\n\n\n\n\n\nРисунок 4.14: Пример плана лесонасаждений\n\n\nМакет со всеми добаленными элементами сохраняется в файле проекта. При необходимости внесения изменений достаточно открыть сохраненный макет, внести изменения и сохранить карту повторно."
  },
  {
    "objectID": "chapter5_queries.html#запросы-по-пространственному-положению",
    "href": "chapter5_queries.html#запросы-по-пространственному-положению",
    "title": "5  Поиск объектов по атрибутивной информации",
    "section": "5.2 Запросы по пространственному положению",
    "text": "5.2 Запросы по пространственному положению"
  },
  {
    "objectID": "chapter2_vectorization.html#векторизация-полигонов",
    "href": "chapter2_vectorization.html#векторизация-полигонов",
    "title": "2  Векторизация",
    "section": "2.4 Векторизация полигонов",
    "text": "2.4 Векторизация полигонов\nПосле векторизации линейных объектов, подобным образом векторизуют площадные объекты (лесные выдела). Для этого создается отдельный векторный слой с названием “выдела”, тип геометрии - Площадная (полигон). В атрибутивной информации добавьте одно поле с номерами выделов: “имя” — “videl”, тип — целое число, размер — 2. Сохраните слой в папку проекта. В панеле “Инструменты прилипания” находятся инструменты для топологически корректной оцифровки.\nИнструмент “Включить трассировку” позволяет проводить границу вдоль уже существующих геометрий. Если требуется создать общую границу - настройку Offset следуют оставить по умолчанию (0,000000) в противном случае новая линия будет проведена на указанном в настройке расстоянии от уже существущей геометрии. Этот инструмент не всегда работает предсказуемо, поэтому при его использовании следует внимательно следить за результатом (Рисунок 2.6).\n\n\n\nРисунок 2.6: Трассировка\n\n\nФункция “Вычитать наложения на текущем слое” позволяет оцифровывать полигоны без пересечений. При добавлении нового полигона поверх существующего он будет обрезан по границе второго. Такая настройка позволяет проводить оцифровку сплошных площадей, состоящих их множества участков, без наложений и разрывов (Рисунок 2.7).\n\n\n\n\n\n\nОбратите внимание!\n\n\n\nФункция “Вычитать наложения на текущем слое” не работает с геометриями содержащими ошибки. См. Глава 2.6.\n\n\n\n\n\nРисунок 2.7: Вычитание наложений полигонов\n\n\nПосле создания геометрии можно воспользоваться инструментом “Редактирование вершин” позволяющим изменять положение вершин и сегментов, добавлять и удалять вершины (Рисунок 2.8).\n\n\n\nРисунок 2.8: Редактирование вершин\n\n\nИнструмент “Включить топологическое редактирование” дает возможность перемещать вершины смежных полигонов топологически корректно, как одну общую вершину (Рисунок 2.9).\n\n\n\nРисунок 2.9: Топологическое редактирование вершин\n\n\nВ процессе оцифровки периодически случаются ошибки при расстановке вершин геометрии. Если геометрия еще не создана, последнюю установленную вершину можно удалить нажатием клавиши Backspace на клавиатуре (Рисунок 2.10).\n\n\n\nРисунок 2.10: Удаление вершин при оцифровке\n\n\n\n\n\n\n\n\nЗадание 2.4\n\n\n\nТопологически корректно оцифруйте выдела на территории квартала. При оцифровке не забывайте сразу проставлять номера выделов во всплывающем окне (поле “videl”)."
  },
  {
    "objectID": "chapter4_thematic_maps.html#sec-simple_labels",
    "href": "chapter4_thematic_maps.html#sec-simple_labels",
    "title": "4  Cоздание тематических карт",
    "section": "4.2 Обычные подписи",
    "text": "4.2 Обычные подписи\nПодписи объектов существенно увеличивают информативность карты. Они настраиваются отдельно для каждого слоя в меню “Свойства…” &gt; “Надписи”. Существует несколько режимов отображения подписей: “Без подписей”, “Обычные подписи”, “Подписи на основе правил”, “Препятствие для подписей”. В этом и слдующем подразделах будут рассмотрены “Обычные подписи” и “Подписи на основе правил”. Рассмотрим подписи объектов на примере слоя “kvartala” (проект с этим слоем был создан в начале раздела). При настройке “Обычных подписей” основным параметром является “Значение”, которым будет подписан каждый объект в этом слое. Слой лесных кварталов содержит поле “kvartal” в котором записан номер квартала для каждого объекта. В этом не сложно убедиться, если открыть таблицу атрибутов слоя. Именно это поле указывается в пункте “Значение”. Таким образом каждый квартал получает подпись из соответствующего поля атрибутивной таблицы - номер квартала Рисунок 4.2.\n\n\n\nРисунок 4.2: Подписи слоя “kvartala”\n\n\nОстальные настройки не влияют на содержание подписей, только на их оформление. Внесенные изменения сразу отображаются в верхней части окна под названием “Образец текста”. Пункт “Текст” позволяет настроить шрифт, размер и цвет текста. “Форматирование” настраивает регистр, отступы, перенос подписей по строкам, форматы чисел. Крайне полезными настройками является “Буферизация” и “Фон”, позволяющие строить буфер (по умолчанию белого цвета) вокруг подписей, так повышается их видимость на фоне других объектов. Пункт “Размещение” настраивает положение подписей относительно объекта. Чаще всего подписи размещают на некотором расстоянии от точечных объектов или внутри полигонов. “Отрисовка” позволяет задать масштаб карты для отображения подписей. При большом количестве подписей они могут накладываться друг на друга. В этом случае по умолчанию часть подписей не будет видна, что бы изменить это поведение перейдите в пунк “Настройки размещения подписей” в правом верхнем углу окна и поставьте чек-бокс “Показывать все подписи для всех слоев (включая наложения)” Рисунок 4.3.\n\n\n\nРисунок 4.3: Наложение подписей\n\n\n\n\n\n\n\n\nЗадание 4.4\n\n\n\nИзмените подписи слоя “kvartala”. Установите шрифт - Liberation Sans, размер - 20, цвет текста - зеленый, буфер вокруг подписей - белый.\n\n\nВ некоторых случаях требуется отобразить подписи сразу из нескольких полей, например номер выдела и площадь. Настроить такую подпись возможно в редакторе выражений  (левый верхний угол окна). Создадим подписи объектов слоя “videla” из полей “videl” (номер выдела) и “s_ga” (площадь в гектарах) разделенных тире. Перейдите в окно “Редактор выражений” в центральной части в пункте “Поля и значения” найдите поля “videl” и “s_ga”. После двойного клика они будут перенесены в левую часть окна, где и формируется выражение. Разделите их символом “Сцепление строк”  что бы получилось следующее выражение: “videl” || ’ - ’ || “s_ga” (Рисунок 4.4). Результатом выражения отображается в нижнем левом угул окна, пункт “Просмотр:”. Если в этом пункте отображается надпись “Ошибочное выражение” следует исправить выражение.\n\n\n\nРисунок 4.4: Создание подписи из нескольких полей\n\n\n\n\n\n\n\n\nЗадание 4.5\n\n\n\nСоздайте подписи слоя “videla” из полей “videl” и “el_lesa” (преобладающая порода) по примеру выше."
  },
  {
    "objectID": "chapter4_thematic_maps.html#подписи-на-основе-правил",
    "href": "chapter4_thematic_maps.html#подписи-на-основе-правил",
    "title": "4  Cоздание тематических карт",
    "section": "4.3 Подписи на основе правил",
    "text": "4.3 Подписи на основе правил\nИспользование режима “Обычные подписи” удобно, когда все объекты слоя должны быть подписаны одинаково. Если же часть объектов должна остаться без подписей или подписи должны изменяться по условию - применяют режим “Подписи на основе правил”. Рассмотрим работу с этим режимом на примере слоя “videla” который содержит границы выделов и таксационную характеристику каждого из них. Основной настройкой здесь является задание логического правила, согласно которому будут отобраны объекты. Перейдите в режим “Подписи на основе правил” и добавьте новое правило нажав на символ . В верхней части окна “Edit Rule” задается правило, в нижней - настраивается подпись. Рассмотрим врхнюю часть окна, поскольку настройка подписи была рассмотрена выше (Глава 4.2).\nВ пункте “Описание” вводится название правила. У каждого правила может быть два режима “Поиск” и “Иначе для всех остальных объектов”. Второй пункт используется, когда создано несколько правил и требуется добавить подписи для всех остальных объектов. Для создания правила используется окно “Конструктор выражений” . Логические условия задаются на основе атрибутов объектов. Для примера составим выражение в котором будут подписаны лесные выдела с площадью более 4 га: \"s_ga\" &gt; 4. Функция “Проверка” позволяет узнать количество объектов, попадающих под это условие Рисунок 4.5. Более подробно создание логических выражений будет рассмотрено в Глава 5.\n\n\n\nРисунок 4.5: Создание подписей на основе правил\n\n\n\n\n\n\n\n\nЗадание 4.6\n\n\n\nСоздайте подписи слоя “videla”. Добавьте номер выдела только для тех выделов, в которых средний возраст насаждения более 100 лет (средний возраст - поле “A_let”)."
  },
  {
    "objectID": "chapter4_thematic_maps.html#настройки-стиля-объектов",
    "href": "chapter4_thematic_maps.html#настройки-стиля-объектов",
    "title": "4  Cоздание тематических карт",
    "section": "4.4 Настройки стиля объектов",
    "text": "4.4 Настройки стиля объектов\nОдним из ключевых имнструментов визуализиции пространственных данных является раскраска объектов цветом. Все объекты слоя могут быть окрашены одинаково или, в зависимости от значений атрибутов, иметь разные цвета. В программе QGIS настройка стиля отображения объектов производится в контекстном меню панели слоев “Свойства…” &gt; “Стиль”. Существует несколько режимов отображения объектов: “Без отрисовки” объекты будут не видны но надписи объектов будут отображаться; “Простая символика” задает единый стиль для всех объектов слоя; “Символизация по уникальным значениям” позволяет задать стиль отображения в зависимости от значений качественного атрибута (преобладающая порода, класс бонитета и т.д.); “Символизация по диапазонам значений” задает стиль в зависимости от количественного атрибута (средний возраст насаждения, средний диаметр, запас и т.д.). “Символизация на основе правил” позволяет задать гибкие правила для отображения стиля объектов по нескольким атрибутам. Настройка символики несколько видоизменяется в зависимости от типа геометрии слоя. Для точек будет задаваться стиль маркера, для линий - стиль линии, для полигонов - стиль заливки. Особенности геометрий объектов отражаются на особенностях их отображения. Упомянутые выше режимы отображения объектов рассмотрены далее на примере полигонального слоя “videla” из созданного ранее проекта."
  },
  {
    "objectID": "chapter5_queries.html#запросы-по-атрибутивной-информации",
    "href": "chapter5_queries.html#запросы-по-атрибутивной-информации",
    "title": "5  Поиск объектов по атрибутивной информации",
    "section": "5.1 Запросы по атрибутивной информации",
    "text": "5.1 Запросы по атрибутивной информации"
  },
  {
    "objectID": "chapter6_spatial_operations.html#пересечение-полигонов",
    "href": "chapter6_spatial_operations.html#пересечение-полигонов",
    "title": "6  Пространственные операции с векторными объектами.",
    "section": "6.2 Пересечение полигонов",
    "text": "6.2 Пересечение полигонов"
  },
  {
    "objectID": "appendix_1_geopackage.html",
    "href": "appendix_1_geopackage.html",
    "title": "7  Приложение 1. Файлы GeoPackage (.gpkg)",
    "section": "",
    "text": "Каждый файл GeoPackage (.gpkg) является базой данных SQLite с поддержкой следующих данных:\n\nвекторные геометрии;\nрастровые данные;\nтаблицы атрибутов (без геометрий).\n\nВ отличие от шейп-файлов, которые представлены набором отдельных файлов работающих вместе (.shp, .shx, .dbf и т.д.), файл GeoPackage является единственным файлом с расширением .gpkg. Более того, один файл способен хранить в себе несколько слоев данных (при использовании шейп-файлов каждый слой должен храниться отдельно), а объем файла не ограничен (шейп-файлы ограничены объемом 2 GB). С подробным сравнением форматов можно ознакомиться по ссылке.\nНесмотря на преимущества формата GeoPackage, он не так популярен как шейп-файлы. В QGIS процесс работы с данными несущественно зависит от формата их хранения, за исключением одной особенности. При работе с GeoPackage каждый векторный слой имеет ключь - поле fid которое содержит уникальное целое значение для каждой геометрии. Если такое поле не создано, после сохранения файла оно будет добавлено автоматически. При работе с геометриями объектов, в поле могут появляться повторяющиеся значения. Такой слой не может быть сохранен, о чем программа предупредит пользователя. Для исправления ошибки устраните дубликаты в поле fid (отсутствующие значения так же недопустимы) или удалите поле полностью. В последнем случае оно автоматически будет добавлено после сохранения слоя."
  },
  {
    "objectID": "application_1_geopackage.html",
    "href": "application_1_geopackage.html",
    "title": "7  Приложение. Файлы GeoPackage",
    "section": "",
    "text": "Каждый файл GeoPackage (.gpkg) является базой данных SQLite с поддержкой следующих данных:\n\nвекторные геометрии;\nрастровые данные;\nтаблицы атрибутов (без геометрий).\n\nВ отличие от шейп-файлов, которые представлены набором отдельных файлов работающих вместе (.shp, .shx, .dbf и т.д.), файл GeoPackage является единственным файлом с расширением .gpkg. Более того, один файл способен хранить в себе несколько слоев данных (при использовании шейп-файлов каждый слой должен храниться отдельно), а объем файла не ограничен (шейп-файлы ограничены объемом 2 GB). С подробным сравнением форматов можно ознакомиться по ссылке.\nНесмотря на преимущества формата GeoPackage, он не так популярен как шейп-файлы. В QGIS процесс работы с данными несущественно зависит от формата их хранения, за исключением одной особенности. При работе с GeoPackage каждый векторный слой имеет ключь - поле fid которое содержит уникальное целое значение для каждой геометрии. Если такое поле не создано, после сохранения файла оно будет добавлено автоматически. При работе с геометриями объектов, в поле могут появляться повторяющиеся значения. Такой слой не может быть сохранен, о чем программа предупредит пользователя. Для исправления ошибки устраните дубликаты в поле fid (отсутствующие значения так же недопустимы) или удалите поле полностью. В последнем случае оно автоматически будет добавлено после сохранения слоя."
  },
  {
    "objectID": "chapter4_thematic_maps.html#sec-rules",
    "href": "chapter4_thematic_maps.html#sec-rules",
    "title": "4  Cоздание тематических карт",
    "section": "4.8 Cимволизация на основе правил",
    "text": "4.8 Cимволизация на основе правил\nСимволизация на основе правил по принципу своей работы схожа с режимом “Подписи на основе правил” (Глава 4.3) и позволяет гибко настроить группировку объектов по стилю. В основе этого режима лежат логические выражения, которые разбивают множество объектов на группы для каждой из которых задается свой стиль отображения.\n\n\n\nРисунок 4.11: Cимволизация на основе правил по среднему возрасту и преобладающей породе\n\n\nЛогические выражения (правила) добавляются при помощи символа “Добавить правило”. В пункте “надпись” задается называние для правила. В пункте “Поиск” задается логическое правило, которое определяет группу объектов, для которых будет задан стиль отображения. Пункт “Иначе для всех остальных объектов” позволяет задать стиль для объектов, не входящих ни в одну группу. Настройка “В пределах масштаба” позволяет применять стиль только для определенного диапазона масштаба. В пункте “Знак” задается стиль отображения.\nДля примера окрасим сосняки более 100 лет и менее 100 лет в разные цвета. Для остальных выделов оставим видимыми только контуры. Первое правило будет иметь вид “el_lesa” = ‘С’ AND “A_let” &lt; 100 (выбор выделов с преобладающей породой сосна И средним возрастом менее 100 лет). Второе правило вида “el_lesa” = ‘С’ AND “A_let” &gt;= 100 задает стиль для сосняков со средним возрастом большим или равным 100 лет. В третьем правиле выбирается пункт “Иначе для всех остальных объектов” и задается стиль для всех объектов не попавших в первые два правила (Рисунок 4.11).\n\n\n\n\n\n\nЗадание 4.12\n\n\n\nПовторите пример визуализации по преобладающей породе и возрасту, котороый размещен выше. Результат должен соответствовать рисунку ниже. (Рисунок 4.12)\n\n\n\n\n\nРисунок 4.12: Результат символизации по преоблаюадей породе и возрасту"
  },
  {
    "objectID": "chapter5_queries.html#выбор-объектов-по-значению",
    "href": "chapter5_queries.html#выбор-объектов-по-значению",
    "title": "5  Поиск объектов по атрибутивной информации и пространственному положению",
    "section": "5.1 Выбор объектов по значению",
    "text": "5.1 Выбор объектов по значению\nПростой способ выбора объектов по атрибутов реализуется при помощи инструмента “Выбрать объекты по значению”. В открывшемся окне представлен список полей слоя для каждого из которых возможно задать определенный фильтр. По умолчанию для всех полей активирован режим “Исключить поле” т.е. поле не участвует в фильтрации. Для текстовых полей дополнительная настройка “Case sensetive” включает чувствительность к регистру. Список доступных логических операций различен для текстовых и числовых полей.\n!Добавить рисунок логических операций (для текстового и числового поля, 2 картинки)\nФильтр настраивается путем введения порогового значения в необходимое поле и выбора логической операции (равно, больше, меньше и т.д.). Все объекты удовлетворяющие условию будут выбраны. Фильтрация по нескольким полям объединяется оператором “И” т.е. будут выбраны объекты удовлетворяющие всем условиям. Фильтр для отбора выделов с преобладающей породой сосна и возрастом более 100 лет приведен на рисунке.\n!Рисунок. Фильтр объектов. сосна более 100 лет\n\n\n\n\n\n\nЗадание 5.1\n\n\n\nПри помощи инструмента “Выбор объектов по значению”, выберите выдела с преобладающей породой береза (поле “el_lesa”), типом леса “ВРТ” (поле “tip_lesa”) и средним возрастом более 80 лет (поле “A_let”). В результате должно быть выбрано 42 выдела.\n\n\nПосле выделения объектов их можно сохранить как отдельный слой, для этого перейдите в пункт меню «Правка» и выбирете пункт «Копировать объекты», после чего перейдите в тот же пунк «Правка» - «Вставить объекты как» - выберите пункт «Новый векторный слой». Сохраните новый слой в рабочую папку проекта. Теперь созданный слой содержит только выделенные объекты.\n\n\n\n\n\n\nЗадание 5.2\n\n\n\nСохраните выделенные объекты из предыдущего задания как новый векторный слой.\n\n\nКроме опции “Выбрать объекты” доступны варианты модификации ранее выбранных объектов. “Добавить к текущей выборке” и “Удалить из текущей выборки” позволяют соответственно добавить или удлить отфильтрованные объекты из выбранных ранее, “Фильтровать текущую выборку” применяет фильтр к ранее выбранным объектам.\n\n\n\n\n\n\nЗадание 5.3\n\n\n\nВыберите 20 - 30 случайных выделов, используя инструмент “Выбор объектов” (!!добавить иконку!!). Отфильтруйте полученную выборку так, что бы остались выдела с преобладанием сосны (поле “el_lesa”). Для этого используйте инструмент “Выбрать по значению” &gt; “Фильтровать текущую выборку”."
  },
  {
    "objectID": "chapter5_queries.html#выбор-объектов-по-выражению",
    "href": "chapter5_queries.html#выбор-объектов-по-выражению",
    "title": "5  Поиск объектов по атрибутивной информации и пространственному положению",
    "section": "5.2 Выбор объектов по выражению",
    "text": "5.2 Выбор объектов по выражению\nБолее гибкие возможности выбора объектов предоставляет инструмент “Выбрать объекты по выражению…”.\nКартинка окна.\nВ левой части окна записывается логическое выражение (предикат). В средней части выбираются логические операторы и поля, участвующие в выражении (категории “Операторы” и “Поля и значения”). В правой части окна выводится справка по функциям. Иконка “Выбрать объекты” активирует выбор объектов по заданному выражению. Операторы для количественных и качественных переменных различаются. Для запросов к количественным переменным (площадь выдела, средний возраст и т.д.) применяются операторы: равно (=), не равно (&lt;&gt;), больше (&gt;), меньше (&lt;), больше или равно (&gt;=), меньше или равно (&lt;=). Для запросов к качественным переменным (элемент леса, тип леса и т.д.) используют операторы IS, IS NOT, IN.\nВыражение для выбора выделов с площадью более 5 га: “s_ga” &gt; 5. Выражение для выбора выделов с типом леса “ВКТ”: “tip_lesa” IS ‘БРТ’. Выражение для выбора выделов где преобладающая порода НЕ сосна: “el_lesa” IS NOT ‘С’.\n\n\n\n\n\n\nОбратите внимание!\n\n\n\nВ конструкторе выражений названия полей записываются в двойных кавычках (“s_ga”), текст в одинарных (‘БРТ’).\n\n\n\n\n\n\n\n\nЗадание 5.4\n\n\n\nПри помощи инструмента “Выбрать по выражению” выберите выдела 1 группы возраста (поле “gr_vozr”). В результате должно быть выбрано 9 выделов.\n\n\nПропущенные значения кодируются значением NULL.\n\n\n\n\n\n\nЗадание 5.5\n\n\n\nПри помощи инструмента “Выбрать по выражению” выберите выдела в которых пропущен запас на 1 га (поле “zapas_1ga”). В результате должно быть выбрано 64 выдела.\n\n\nОтдельная группа операторов позволяет объединить несколько условий в единое выражение, соединяя их одним из операторов: И (AND); ИЛИ (OR). Отдельно стоит рассмотреть оператор NOT, который меняет результат любого оператора на противоположный. Все перечисленные операторы могут принимать только два значения: правда или ложь. Если для конкретного объекта всё выражение принимает значение правда — этот объект соответствует условиям и попадает в выборку.\nДля выбора выделов со средним возрастом от 50 до 70 лет конструируется следующее выражение: “A_let” &gt; 50 AND “A_let” &lt; 70. В этом случае было записано два условия соединенных через оператор «AND» (И). Такое выражение выбирает объекты, которые соответствуют И первому И второму условию.\n\n\n\n\n\n\nЗадание 5.6\n\n\n\nПри помощи инструмента “Выбрать по выражению” выберите выдела со средним диаметром больше 40 см (поле “DBH_cm”) И преобладающей породой сосна. В результате должен быть выбран 21 выдел.\n\n\nДля объединения нескольких условий так же применяется оператор “OR” который используется когд объект должен удовлетворять хотя бы одному условию. Например, для выбора выделов со средней высотой более 30 м ИЛИ возрастом более 100 лет используется выражение: “H_m” &gt; 30 OR “A_let” &gt; 100.\n\n\n\n\n\n\nЗадание 5.7\n\n\n\nПри помощи инструмента “Выбрать по выражению” выберите выдела с преобладающей породой осина ИЛИ выдела старше 140 лет. В результате должно быть выбрано 38 выделов.\n\n\nДля выбора нескольких значений качественной переменной используется оператор IN после которого в круглых скобках указывается список значений. Если значение атрибута соответствует хотя бы одному значению из списка - выдел попадает в выборку. Выбор выделов с типами леса ВКТ, ЗМ или КТП производится выражением: “tip_lesa” IN (‘ВКТ’, ‘ЗМ’, ‘КТП’).\n\n\n\n\n\n\nЗадание 5.8\n\n\n\nПри помощи инструмента “Выбрать по выражению” выберите выдела с преобладающей породой березой, осиной или липой возрастом более 60 лет. В результате должно быть выбрано 59 выделов."
  },
  {
    "objectID": "chapter5_queries.html#выбор-объектов-по-пространственному-положению",
    "href": "chapter5_queries.html#выбор-объектов-по-пространственному-положению",
    "title": "5  Поиск объектов по атрибутивной информации и пространственному положению",
    "section": "5.3 Выбор объектов по пространственному положению",
    "text": "5.3 Выбор объектов по пространственному положению\nВыбор объектов по пространственному положению производится инструментом “Выбрать по расположению” который позволяет выбрать объекты одного слоя по пространственным отношениям к объектам другого слоя.\n!Добавить рисунок\nВ пункте “Выбрать объекты слоя” назначается слой из которого выбираются объекты по условию пространственного отношения с другим слоем, который задается в пункте “по отношению к объектам слоя”. Необходимые пространственные отношения отмечаются чек-боксом в пункте “Геометрический предикат”. Пункт “Изменить текущую выборку” позволяет “создать новую выборку” или модифицировать уже выбранные объекты: “добавить к текущей выборке”; “выбрать в текущей выборке” или “удалить из текущей выборки”. Использование этой настройки позволяет проводить отбор объектов на основе атрибутивной информации и по пространственным отношениям.\n\n\n\n\n\n\nЗадание 5.9\n\n\n\nИспользуя инструмент “Выбрать по расположению”, выберите только те выдела, которые пересекаются реками. Сохраните выдела как отдельный слой.\n\n\nПункт “Изменить текущую выборку” позволяет “создать новую выборку” (по умолчанию) или модифицировать уже существующую: “добавить к текущей выборке”, “выбрать в текущей выборке”, “удалить из текущей выборки”. Последние 3 пункта позволяют объединить несколько пространственных запросов или комбинировать пространственный запрос с выбором по атрибутам.\n\n\n\n\n\n\nЗадание 5.10\n\n\n\nВыберите выдела которые пересекаются реками или дорогами. Для этого объедините два пространственных запроса. В результате должен быть выбран 151 выдел. Сохраните выбранные объекты как новый векторный слой.\n\n\n\n\n\n\n\n\nЗадание 5.11\n\n\n\nВыберите выдела которые пересекаются реками и преобладающая порода в которых не сосна. Для этого объедините пространственный запрос с запросом по атрибутам. В результате должно быть выбрано 19 выделов. Сохраните выбранные объекты как новый векторный слой."
  },
  {
    "objectID": "chapter6_spatial_operations.html#создание-буфера",
    "href": "chapter6_spatial_operations.html#создание-буфера",
    "title": "6  Пространственные операции с векторными объектами.",
    "section": "6.1 Создание буфера",
    "text": "6.1 Создание буфера"
  },
  {
    "objectID": "chapter7_DEM.html#загрузка-растровых-данных.",
    "href": "chapter7_DEM.html#загрузка-растровых-данных.",
    "title": "8  Цифровая модель рельефа.",
    "section": "8.1 Загрузка растровых данных.",
    "text": "8.1 Загрузка растровых данных."
  },
  {
    "objectID": "chapter4_thematic_maps.html#sec-labels_by_rules",
    "href": "chapter4_thematic_maps.html#sec-labels_by_rules",
    "title": "4  Cоздание тематических карт",
    "section": "4.3 Подписи на основе правил",
    "text": "4.3 Подписи на основе правил\nИспользование режима “Обычные подписи” удобно, когда все объекты слоя должны быть подписаны одинаково. Если же часть объектов должна остаться без подписей или подписи должны изменяться по условию - применяют режим “Подписи на основе правил”. Рассмотрим работу с этим режимом на примере слоя “videla” который содержит границы выделов и таксационную характеристику каждого из них. Основной настройкой здесь является задание логического правила, согласно которому будут отобраны объекты. Перейдите в режим “Подписи на основе правил” и добавьте новое правило нажав на символ . В верхней части окна “Edit Rule” задается правило, в нижней - настраивается подпись. Рассмотрим врхнюю часть окна, поскольку настройка подписи была рассмотрена выше (Глава 4.2).\nВ пункте “Описание” вводится название правила. У каждого правила может быть два режима “Поиск” и “Иначе для всех остальных объектов”. Второй пункт используется, когда создано несколько правил и требуется добавить подписи для всех остальных объектов. Для создания правила используется окно “Конструктор выражений” . Логические условия задаются на основе атрибутов объектов. Для примера составим выражение в котором будут подписаны лесные выдела с площадью более 4 га: \"s_ga\" &gt; 4. Функция “Проверка” позволяет узнать количество объектов, попадающих под это условие Рисунок 4.5. Более подробно создание логических выражений будет рассмотрено в Глава 5.\n\n\n\nРисунок 4.5: Создание подписей на основе правил\n\n\n\n\n\n\n\n\nЗадание 4.6\n\n\n\nСоздайте подписи слоя “videla”. Добавьте номер выдела только для тех выделов, в которых средний возраст насаждения более 100 лет (средний возраст - поле “A_let”)."
  },
  {
    "objectID": "chapter4_thematic_maps.html#добавление-легенды",
    "href": "chapter4_thematic_maps.html#добавление-легенды",
    "title": "4  Cоздание тематических карт",
    "section": "4.10 Добавление легенды",
    "text": "4.10 Добавление легенды"
  }
]